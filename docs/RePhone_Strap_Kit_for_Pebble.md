---
title: RePhone Strap Kit for Pebble
category: RePhone
bzurl: https://www.seeedstudio.com/RePhone-Strap-Kit-for-Pebble-Time-p-2633.html
oldwikiname:  RePhone Strap Kit for Pebble
prodimagename:  Pebble3-04.png
wikiurl: http://seeed.wiki/RePhone_Strap_Kit_for_Pebble
sku:   113060005
---
![](https://github.com/SeeedDocument/RePhone_Strap_Kit_for_Pebble/raw/master/img/Pebble3-04.png)

新增加的 RePhone（Xadow） 模块使您的智能手表更智能。基于 [Pebble Time 背后的智能硬件端口](http://developer.getpebble.com/guides/hardware/) ，我们将小型的 Rephone 模块 - Xadow GPS v2 和 Xadow NFC v2 集成到 Pebble 现有的生态系统，从内置电子硬件的角度提高其能力。Xadow Pebble Time Adapter 使 RePhone（Xadow）模块能够通过使用单线串行协议的 Smartstrap 接口与 Pebble Time 进行通话。

[![](https://github.com/SeeedDocument/wiki_chinese/raw/master/docs/images/click_to_buy.PNG)](https://item.taobao.com/item.htm?spm=a1z10.3-c.w4002-11172317909.10.7015bd1dbcHfjx&id=553067880176)

##  规格参数
---
###   Xadow Adapter 底座

Xadow Adapter 底座的背后有“GND”和“PWR”触点，这样您就在充电时就不需要把底座单独拿下了。

![](https://github.com/SeeedDocument/RePhone_Strap_Kit_for_Pebble/raw/master/img/Pebble_base_2.png)

###   Xadow GPS v2
---
关于这个模块的更多信息请参考 [**Xadow GPS v2 Wiki 页面**](http://seeed.wiki/Xadow_GPS_V2/).

<table>
<tr>
<td> 微控制器 </td>
<td> Kinetis KL02
</td></tr>
<tr>
<td> 核心 </td>
<td> ARM® 32-bit Cortex® -M0+CPU
</td></tr>
<tr>
<td> 供电电压 </td>
<td> 3.3 ~ 6 V (通过扩展板的引脚输入)
</td></tr>
<tr>
<td> Flash </td>
<td> 32 KB
</td></tr>
<tr>
<td> SRAM </td>
<td> 4 KB
</td></tr>
<tr>
<td> 时钟频率 </td>
<td> 48 MHz
</td></tr>
<tr>
<td> 功耗 </td>
<td> 跟踪时 18ma，捕获时 21mA
</td></tr>
<tr>
<td> 省电模式 </td>
<td> 典型值：3mA@AlwaysLocateTM, 7uA@Backup

Mode, 180uA@Standby Mode

</td></tr>
<tr>
<td> 频道 </td>
<td> 22(跟踪时) / 66 (捕获时)
</td></tr>
<tr>
<td> 更新频率 </td>
<td> 1Hz(默认), 最大 10Hz
</td></tr>
<tr>
<td> 水平定位精度 </td>
<td> &lt;2.5m CEP
</td></tr>
<tr>
<td> 速度精度 </td>
<td> &lt;0.1m/s
</td></tr>
<tr>
<td> 最大速度 </td>
<td> 最大 515m/s
</td></tr>
<tr>
<td> EASYTM 冷启动/热启动时间	 </td>
<td> 215s/5s
</td></tr>
<tr>
<td> 捕获灵敏度 </td>
<td> -145dBm
</td></tr>
<tr>
<td> 跟踪灵敏度 </td>
<td>-163dBm
</td></tr>
<tr>
<td> 工作温度 </td>
<td> -40℃ to 85℃
</td></tr>
<tr>
<td> 协议 </td>
<td> NMEA 0183/PMTK
</td></tr>
<tr>
<td> 天线类型 </td>
<td> 陶瓷贴片天线
</td></tr>
<tr>
<td> 接口 </td>
<td> 通过 I2C (7-bit 地址 0x05) 与 Xadow GSM+BLE 连接
</td></tr>
<tr>
<td> 尺寸 </td>
<td> 25.37mm X 20.30mm / 1” × 0.8”
</td></tr></table>

###   Xadow NFC v2

关于这个模块的更多信息请参考 [**Xadow NFC v2 Wiki 页面**](/Xadow_NFC_v2).

<table>
<tr>
<td> 微控制器 </td>
<td> Kinetis KL02
</td></tr>
<tr>
<td> 核心 </td>
<td> ARM® 32-bit Cortex® -M0+CPU
</td></tr>
<tr>
<td> 供电电压 </td>
<td> 3.3 ~ 6V (via breakout pins)
</td></tr>
<tr>
<td> Flash </td>
<td> 32 KB
</td></tr>
<tr>
<td> SRAM </td>
<td> 4 KB
</td></tr>
<tr>
<td> 工作电流 </td>
<td> 待机 5mA；读/写操作 55mA
</td></tr>
<tr>
<td> 发射频率 </td>
<td> 13.56 MHz
</td></tr>
<tr>
<td> 支持协议 </td>
<td> ISO/IEC 14443 Type A 和 ISO/IEC 14443 Type B
</td></tr>
<tr>
<td> 最大操作距离 </td>
<td> 0~28mm 取决于当前天线尺寸
</td></tr>
<tr>
<td> 尺寸 </td>
<td> 25.37mm × 20.30mm / 1” × 0.8”
</td></tr></table>

###   Xadow Battery 100mAh

<table>
<tr>
<td> 电压 </td>
<td> 3.3 V
</td></tr>
<tr>
<td> 尺寸 </td>
<td> 25.37mm × 20.30mm / 1” × 0.8”
</td></tr></table>

##  装配方法
---
在日常使用中，模块均匀地放置在手表的两侧，并通过 FPC 电缆相互连接。模块和转接器之间的连接被特别设计成弹性连接，从而可以避免意外脱落。Pebble Time 的充电端口仍然可以在适配器的背面以便日常充电。

以下给出 RePhone Strap Kit for Pebble Time 的组装过程的示意图：

![](https://github.com/SeeedDocument/RePhone_Strap_Kit_for_Pebble/raw/master/img/Xadow_Pebble_Time_Adapter_assembly3.png)

##  下载 Pebble Time 的 Xadow APP
---

您可以按照以下说明下载 Xadow APP for Pebble Time，在 Pebble Time 访问 GPS 信息和 NFC ID。

示例 App 请点击 [这里下载](https://github.com/Seeed-Studio/Xadow_Strap/raw/master/build/pebbleapp_jack.pbw)。你可以在 PC 上下载并上传到智能手机或直接在智能手机上下载。然后选择您的手机中的 “Pebble Time” 应用程序打开它。你会看到一个选项来把示例 APP 安装到你的 Pebble Time 上。



![](https://github.com/SeeedDocument/RePhone_Strap_Kit_for_Pebble/raw/master/img/Xadow_Pebble_Time_Adapter_APP_UI.png)

##  编程指南
---
### 与 Adapter 对话

Adapter 的固件使用了在 Pebble 官方文档中描述的 [协议](http://developer.getpebble.com/guides/hardware/smartstrap-protocol/)

所以从 Watchapp 方面可以调用的资源如下：

服务 | 属性 |R/W（读/写） | 数据类型 | 相关资料
----|----|----|----|----
0x0 源数据 | 0x0 源数据 | RW | uint8* buffer |在 Adapter 一侧没有处理，保留 Adapter 固件编程可扩展性
0x2003 电池服务 | 0x1001 获取电池电压 |R | uint16 | 外置在表带上的电池单位为V(伏特),其可测精度为1/100。 例如，电压是3.70V，测量输出为370
0x2003 电池服务 | 0x1002 启用或禁止外置在表带上的电池给 Pebble 充电  |  RW | uint8 | 0：禁止给 Pebble 充电。 1：可以给 Pebble 充电。
0x2001 定位和导航服务| 0x0001 定位 | R |sint32[2] | 当前的经度和纬度，精度为 1/10^7。数据中纬度在经度之前。例如，Pebble 总部在（37.4400662，-122.1583808），将被输出为{374400662，-1221583808}。
0x2001 定位和导航服务 | 0x0003 速度 | R | uint16 | 当前速度的单位为 m/s，其精度为 1/100。例如，1.5m/s 的速度将被输出为 150。
0x2001 定位和导航服务 | 0x1001 高度 | R | uint16 | 当前的高度的单位为 m，其精度为 1/100。例如，100m 的高度将被输出为 10000
0x2001 定位和导航服务 | 0x0101 GPS 卫星 |R | uint8 |GPS卫星的数量（通常通过 NMEA 报告）。 请注意，这个数字是针对卫星的。
0x2001 定位和导航服务 |0x0102 GPS 定位质量 | R |uint8 |GPS定位的质量（通过 NMEA 报告）。 可能的值列在 [NMEA规范](http://www.gpsinformation.org/dale/nmea.htm#GGA).
0x1E01 NFC 服务 | 0x1001 获取 NFC 标签的 UID |R |uint8 * | UID 将以可变长度返回，参数长度由 SmartstrapReadHandler 控制。
0x1E01 NFC 服务 | 0x1002 读 NDEF 数据 |R | uint8 | NDEF UID 将以可变长度返回，参数长度由 SmartstrapReadHandler 控制。
0x1E01 NFC 服务 | 0x1003 写 NDEF 数据 | W |uint8 * | 向 NFC 标签的缓冲区中写入 uint8 数据
0x1E01 NFC 服务 | 0x1004 擦除 NDEF 数据 | W | 任何类型 | 写入随机或空数据来覆盖以前的数据



Pebble App 的示例代码存放在 github 上，请 [点击这里下载](https://github.com/Seeed-Studio/Xadow_Strap)

这个 APP 仅用于部分属性调用的演示，请根据 GPS，NFC 和个人能力开发属于自己的 APP。

### 给 Adapter 编程

Adapter 内置 LPC11U35 并运行 mbed 软件。 最初的固件位于 mbed.org，请 [点击这里查看](https://developer.mbed.org/teams/Seeed/code/xadow_smartstrap_for_pebble/)

Adapter 的 Eagle 原理图请 [点击这里下载](res/Xadow_Pebble_Time_Adapter.rar)

在生成固件二进制文件之后，您可以按照以下步骤将二进制文件保存到 Adapter 中。

1) 剪断 USB 电缆并相应地将电线焊接到焊盘上

![](https://github.com/SeeedDocument/RePhone_Strap_Kit_for_Pebble/raw/master/img/Hack_USB_cable-03.png)

2) 确保电池断开连接然后将 USB 插入 PC。

3) 短路“ISP”和“GND”引脚。

![](https://github.com/SeeedDocument/RePhone_Strap_Kit_for_Pebble/raw/master/img/ShortISP_GND.PNG)

4) 把电池插入 adapter 的电源接口。

5) 然后您的计算机上应该会识别出一个 USB 设备，打开并删除设备中的所有内容，然后把固件粘贴进设备中。

6) 重启设备，固件会自动更新。

##  RePhone Community
---
[![](https://github.com/SeeedDocument/RePhone_Strap_Kit_for_Pebble/raw/master/img/RePhone_Community-2.png)](http://www.seeedstudio.com/forum/viewforum.php?f=71&amp;sid=b70f8138c89becf7701260bb41faf9f4)

We’ve been looking for a better place where our backers (RePhone Users) can sit together, warmly and comfortably, have conversations about RePhone, discuss technical problems, share ideas/projects, and give feedback on the modules’ development in the future. And then here we go, the RePhone Community.

Now join us in the [RePhone Community](http://www.seeedstudio.com/forum/viewforum.php?f=71&amp;sid=b70f8138c89becf7701260bb41faf9f4)! Together we seek answers, make interesting stuff, care about each other, and share our experiences.

###  FAQ (常见问题汇总)

我们将 RePhone 社区中的一些常见问题及其相关解答收集起来放到了我们的 FAQ 系统中，您可以 [点击这里查看](http://www.seeedstudio.com/forum/viewtopic.php?f=71&amp;t=6664&amp;p=23753#p23753)。 这些主题将保持更新以确保新的问题被及时收录进来。


##  资源下载
---
*   **[Eagle 文件]**[_Xadow Pebble Time Adapter eagle files_](res/Xadow_Pebble_Time_Adapter.rar)
