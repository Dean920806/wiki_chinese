---
name: Rainbow Cube kit - RGB 4*4*4 (Rainbowduino Compatible)
category: Arduino
bzurl: https://www.seeedstudio.com/Rainbow-Cube-kit-RGB-4X4X4-(Rainbowduino-Compatible)-p-596.html
oldwikiname: Rainbow Cube kit - RGB 4*4*4 (Rainbowduino Compatible)
prodimagename: Rainbowcuben.jpg
wikiurl: http://wiki.seeedstudio.com/cn/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible
sku:  110060007
---

**<font color="Red">R</font><font color="Orange">a</font><font color="Yellow">i</font><font color="Green">n</font><font color="Blue">b</font><font color="Indigo">o</font><font color="Violet">w</font> ** **Cube Kit** 是一个创建梦幻作品的 **3D<font color="red"> R</font><font color="green">G</font><font color="blue">B</font>** LED 立方体。它是由 64 个 8mm **<font color="red"> R</font><font color="green">G</font><font color="blue">B</font>** LED 以 4 x 4 x 4 形式排列而制成的艺术品。**<font color="Red">R</font><font color="Orange">a</font><font color="Yellow">i</font><font color="Green">n</font><font color="Blue">b</font><font color="Indigo">o</font><font color="Violet">w</font> ** **Cube Kit** 可以通过 **Rainbowduino** 创造许多惊艳的视觉效果。**<font color="Red">R</font><font color="Orange">a</font><font color="Yellow">i</font><font color="Green">n</font><font color="Blue">b</font><font color="Indigo">o</font><font color="Violet">w</font> ** **Cube Kit** 配有一个内置的 3.3V / 1 Amp LDO，可用于独立供电。还提供了一个兼容 XBee 的插座，可用于通过 PC 或 Arduino 无线连接 Rainbowduino。

**<font color="Red">R</font><font color="Orange">a</font><font color="Yellow">i</font><font color="Green">n</font><font color="Blue">b</font><font color="Indigo">o</font><font color="Violet">w</font> ** **Cube** 是以套件形式出售的。完整组装的套件，请参阅 [Rainbow Cube](http://wiki.seeedstudio.com/wiki/Rainbow_Cube)

[![](https://github.com/SeeedDocument/wiki_chinese/raw/master/docs/images/click_to_buy.PNG)](https://item.taobao.com/item.htm?id=45557041763)

未组装的 Rainbow Cube Kit

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow-3.jpg)

Rainbow Cube Kit 的缤纷多彩

##   产品清单

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow-2.jpg)

<table >
<tr>
<td width="300px">1. 8mm RGB LED x70
</td>
<td width="300px">2.  立方体面板 X1
</td>
<td width="300px">3. 细板 PCB X4
</td></tr>
<tr>
<td>4. A 型细长 PCB X4
</td>
<td>5. B 型细长 PCB X4
</td>
<td>6. 2.54mm 40pin 排针 X5
</td></tr>
<tr>
<td>7. 2.54mm 40pin 排母 X2
</td>
<td>8. 2.54mm 16pin 排母 X3
</td>
<td>9. 2.0mm  10pin 排母 X2
</td></tr>
<tr>
<td>10. 8pin 排母 X5
</td>
<td>11. 2X3 排母 X1
</td>
<td>12. JST 电源线缆 X1
</td></tr>
<tr>
<td>13 3.5mm 4pin 绿色终端 X1
</td>
<td>14 3.5mm DC jack X1
</td>
<td>15 3mm 红色LED X1
</td></tr>
<tr>
<td>16. 3mm 绿色LED X1
</td>
<td>17. 1K 1/8w 电阻 X4
</td>
<td>18. 10k 1/8w 电阻 X1
</td></tr>
<tr>
<td>19. 15k 1/8w 电阻 X1
</td>
<td>20.  线性稳压器 X1
</td>
<td>21. 10uF_16v_E-CAP X2
</td></tr></table>

##   产品特性

*   **8mm** **<font color="red">R</font><font color="green">G</font><font color="blue">B</font>** LED

*   4 x 4 x 4 排列方式

*   **XBee** 兼容 **插座**

*   未使用 USB 供电时激活 **3.3V/1A** LDO，可输入 DC 6-9V。

*   提供一个 **2 x 16 接线端子** 用于连接 8 个红色，8 个绿色和 8 个蓝色共阴极引脚以及 8 个 Vcc 引脚。

*   可使用如 Rainbowduino 的 8 x 8R，8G，8B 多路复用 PWM LED 驱动器进行控制。

##   创意应用

*   炫彩 LED : 混合各种强度的红色，绿色，蓝色，产生不同的颜色

*   情绪灯

*   用于艺术应用

##   原理
---
*   Rainbow Cube Kit 由两部分组成 :

    *   支撑立方体结构的面板。

    *   立方体结构 (8 个细长立柱，8 个侧面板)。

##   规格参数

<dl><dt>工作电压
</dt></dl>

*   3.3V

<dl><dt>LEDs</dt><dd>
</dd></dl>

*   **8mm** 共阴极 RGB LED.

*   4 个引脚

*   最大正向电流为 20mA

##   引脚定义

所有引脚如下图面板所示。

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube_Panel_Bottom.jpg)

面板 (底部视图)

*   **Rainbow Cube** kit 提供 **2 x 16 接线端子**，这样就可以连接到像 **Rainbowduino** 的 RGB LED 驱动板。

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_pin_diagram.png)

**2 x 16** 接线端子

*   **xBee 插座**

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/XBee_PinOut.jpeg)

**xBee 插座**

*   **DC Jack Pin**

    *   Middle Pin VIN (6-9DCV)

        *   Side barrel: GND

*   4 pin **Green terminal**.

    *   2 GND pins, 2 VIN pins

##   组装

在开始构建 Cube 之前，请先阅读所有的指导说明。构建 Cube 并不困难，但需要大约 90 分钟才能完成。

*   [点击下载组装说明](http://www.seeedstudio.com/depot/docu/CUBE.pdf)

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow-1.jpg)

RGB Rainbow Cube Kit (组装完成)

##   外形尺寸

组装完成的立方体尺寸大约为 : 10cm (l) X 10cm (b) X 12cm (h)。

##   入门指导

为了便于理解 **Rainbow Cube kit** 的工作原理，下面介绍一个非常简单的示意图。实质上，64 个 RGB LED 以由红色，绿色和蓝色各自的 8 个公共阳极 (正极引脚) 和 8 个公共阴极 (GND引脚) 组成的形式排列。

*   **RGB Cube kit** 的完整原理图以下面的 **2D RGB LED Matrix** 表示。

    *   编号 **1 - 32** 表示上面显示的 **2x16** 接线端子的引脚编号。

<div class="thumb tnone"><div class="thumbinner" style="width:502px;">![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/8x8_RGB_Matrix_Schematic.png)

*   **RGB Cube kit** 内的互连以框图格式显示。该框图清楚地显示了 2D 形式的 64 个 LED 如何映射为 3D 形式。

<div class="thumb tnone"><div class="thumbinner" style="width:902px;">![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube_kit_Block_Diagram.png)

*   下图中标出了 LED 的实际在三维空间的位置。

<div class="thumb tnone"><div class="thumbinner" style="width:452px;">![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube_LED_3D_Coordinates.png) 

*   **2D RGB LED Matrix** 的 X，Y 坐标映射到 **RGB Cube kit** 框图如下 :

    *   定位到 **RGB Cube kit** 框图中的 2D-XY 坐标 (X,Y)

        *   使用这些 (X,Y) 坐标与 RGB Matrix 的 (X,Y) 坐标来了解如何控制 LED (即定位 VCC 和阴极引脚)

        *   _例如_: LED **(Z,X,Y):(1,0,3)** 的 2D-XY 是 **(6,3)**。该 LED 的 VCC 连接到引脚 **31**。R，G 和 B LED 的阴极分别连接到 **12**,**25** 和 **4** 引脚。

##   使用方法

###   硬件连接

*   将 **Rainbow Cube Kit** 插在 Rainbowduino 上，如下所示

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube_Installation_1.jpg) <div class="thumbcaption">**2x16 接线端子** 定位</div></div></div>

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube_Installation_2.jpg) <div class="thumbcaption">**Rainbowduino** 与 **Rainbow Cube kit** 正确连接</div></div></div>

*   将一根 USB 线缆连接到 **Rainbowduino** 进行编程

###   程序设计

这里以一个简单的示例入门 :

*   下载 Rainbowduino v3.0 库文件

*   打开 Cube1.pde sketch (复制下面代码):

*   编译并上传代码

```c
/*
 Rainbowduino v3.0 Library examples:  Cube1

 Sets pixels on 3D plane (4x4x4 cube)

/*
 Rainbowduino v3.0 Library examples:  Cube1

 Sets pixels on 3D plane (4x4x4 cube)
*/

#include <Rainbowduino.h>

void setup()
{
    Rb.init(); //initialize Rainbowduino driver
}

void loop()
{
    //Set (Z,X,Y):(0,0,0) pixel BLUE
    Rb.setPixelZXY(0,0,0,0x0000FF); //uses 24bit RGB color Code

    //Set (Z,X,Y):(0,3,0) pixel RED
    Rb.setPixelZXY(0,3,0,0xFF,0,0); //uses R, G and B color bytes

    //Set (Z,X,Y):(3,0,3) pixel GREEN
    Rb.setPixelZXY(3,0,3,0x00FF00); //uses 24bit RGB color Code
}
```

**Output**

</dd></dl>
![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube1.jpg) <div class="thumbcaption">Cube1.pde 演示</div></div></div>

####   APIs


在上面的例子中，我们使用了部分下面的 **API**

#####  init()

首先，我们需要使用 _init()_ 初始化驱动程序。

**使用方法:**

```c
Rb.init();//initialize Rainbowduino driver. This should be placed inside setup()
```

要在 3D Cube 中设置 LED，需要使用以下两个 **API**。

#####  setPixelZXY(Z,X,Y,R,G,B)

要设置 LED (Z,X,Y)，需要使用 _setPixelZXY(Z,X,Y,R,G,B)_.

**使用方法:**

```c
Rb.setPixelZXY(unsigned char x, unsigned char y, unsigned char  colorR,  unsigned char colorG, unsigned char colorB); //This sets the pixel (z,x,y) by specifying each channel(color) with a 8bit number.
```

#####  setPixelZXY(Z,X,Y,24bRGB)

Alternatively a LED (Z,X,Y) can be set by using _setPixelZXY(Z,X,Y,24bRGB)_.

**使用方法:**

```c
Rb.setPixelZXY(unsigned char z, unsigned char x, unsigned char y, uint32_t colorRGB /*24-bit RGB Color*/) //This sets the LED (z,x,y) by specifying a 24bit RGB color code
```

#####  blankDisplay(void)

有时需要熄灭所有的 LED。 为此，有一个 **API blankDisplay(void)**。

**使用方法:**

```c
Rb.blankDisplay();
//Clear the LEDs (make all LEDs blank)
```

###  Demos

*   要理解 (Z,X,Y) 的像素寻址让我们来看看另一个例子。在这个演示中，第 0 层被点亮成绿色，而第 3 层被点亮成蓝色。

```c
/*
 Rainbowduino v3.0 Library examples:  Cube2

 Sets pixels on 3D plane (4x4x4 cube)
*/

#include <Rainbowduino.h>

void setup()
{
    Rb.init(); //initialize Rainbowduino driver
}

unsigned int z,x,y;

void loop()
{
    for(x=0;x<4;x++)
    {
        for(y=0;y<4;y++)
        {
            //Paint layer 0 Green
            Rb.setPixelZXY(0,x,y,0x00FF00); //uses 24bit RGB color Code
        }
    }

    for(x=0;x<4;x++)
    {
        for(y=0;y<4;y++)
        {
            //Paint layer 3 Blue
            Rb.setPixelZXY(3,x,y,0x0000FF); //uses 24bit RGB color Code
        }
    }
}
```

**Output**

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube2.jpg) <div class="thumbcaption">Cube2.pde 演示</div></div></div>

*   在这个演示中，所有的 LED 都以随机颜色点亮。经过五秒的延迟，又被随机颜色重新点亮。

```c
/*
 Rainbowduino v3.0 Library examples:  Cube3

 Sets pixels on 3D plane (4x4x4 cube)

/*
 Rainbowduino v3.0 Library examples:  Cube3

 Sets pixels on 3D plane (4x4x4 cube)
*/

#include <Rainbowduino.h>

void setup()
{
    Rb.init(); //initialize Rainbowduino driver
}

unsigned int z,x,y;

void loop()
{
    for(z=0;z<4;z++)
    {
        for(x=0;x<4;x++)
        {
            for(y=0;y<4;y++)
            {
                //Paint random colors
                Rb.setPixelZXY(z,x,y,random(0xFF),random(0xFF),random(0xFF)); //uses R, G and B color bytes
            }
        }
    }
    delay(5000);
    Rb.blankDisplay(); //Clear the LEDs (make all blank)
}
```
<dl><dt>Output
</dt></dl>

![](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/img/Rainbow_Cube3.jpg) <div class="thumbcaption">Cube3.pde 演示</div></div></div>

##   第三方演示

*   RGB iPhone Software (by KonchaTech)

    *   Send RGB values to your cube via an iPhone (requires connected computer and TouchOSC software)

        *   [http://konchatech.blogspot.ca/2012/05/4x4x4-iphone-controlled-rgb-led-cube.html](http://konchatech.blogspot.ca/2012/05/4x4x4-iphone-controlled-rgb-led-cube.html) (for sourcecode)

        *   [http://www.youtube.com/watch?v=JXr-Jgzgigs](http://www.youtube.com/watch?v=JXr-Jgzgigs) [Video]

[http://i.ytimg.com/vi/JXr-Jgzgigs/0.jpg](http://i.ytimg.com/vi/JXr-Jgzgigs/0.jpg)

*   Ambient Visualizer Software (by KonchaTech)

    *   Make your cube change colors in reaction to what is displayed on your computer screen (requires connected computer)

        *   [http://konchatech.blogspot.ca/2012/05/ambient-led-cube.html](http://konchatech.blogspot.ca/2012/05/ambient-led-cube.html) (for sourcecode)

        *   [http://www.youtube.com/watch?v=cC_xqA5irLA](http://www.youtube.com/watch?v=cC_xqA5irLA) [Video 1]

        *   [http://www.youtube.com/watch?v=ed9FURoNZ6M](http://www.youtube.com/watch?v=ed9FURoNZ6M) [Video 2]

        * [http://0.gvt0.com/vi/cC_xqA5irLA/0.jpg](http://0.gvt0.com/vi/cC_xqA5irLA/0.jpg)


##   资源下载

*   **[Eagle 文件]** [Eagle CAD files](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/blob/master/res/202000140_PCBA-Rainbow%20Cube%20kit-%20RGB%204X4X4_%E5%8E%9F%E7%90%86%E5%9B%BE.rar)

*   **[库文件]** [Rainbowduino3.0 Library for Arduino 023](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/res/Rainbowduino3.0_Library.zip)

*   **[库文件]** [Rainbowduino3.0 Library for Arduino 1.0](https://github.com/SeeedDocument/Rainbow_Cube_kit_RGB_4_4_4_Rainbowduino_Compatible/raw/master/res/Rainbowduino_for_Arduino1.0.zip)
